var signalExit = require('signal-exit')
var spawn = require('child_process').spawn
var crossSpawn = require('cross-spawn-async')
var fs = require('fs')
var which = require('which')

function needsCrossSpawn (exe) {
  if (process.platform !== 'win32') {
    return false
  }

  try {
    exe = which.sync(exe)
  } catch (er) {
    // failure to find the file?  cmd probably needed.
    return true
  }

  if (/\.(com|cmd|bat)$/i.test(exe)) {
    // need cmd.exe to run command and batch files
    return true
  }
